<!DOCTYPE html>
<html>
<head>
  <title>Studio Week 4 - Rat Map! </title>

  <!-- Adding in the Leaflet CSS file -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />

  <!-- Adding Leaflet JavaScript file -->
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <!-- Add styling info for the map -->
  <style type="text/css">
    #map{ height: 100% }
  </style>
  <!-- Adding styling info for page layout by reading in a CSS file -->
  <link rel="stylesheet" href="styles.css">

</head>

<body>
  <h1>Studio Week 4 <br> Rat Map with Leaflet</h1>
  <!-- Add multiple pages to web page-->
  <!-- active class displays the grey box around current page-->
  <ul>
    <li><a class="active" href="index.html" target="_self">Output 1</a></li>
    <li><a href="mapbox-interaction.html" target="_self">Output 2</a></li>
    <li><a href="mapbox-turfjs.html" target="_self">Output 3</a></li>
  </ul>
  <br>

  <!-- Add a div to give the map somewhere to go -->
  <div id='map'></div>

  <script>
  // Initialize map
  var map = L.map('map').setView([42.35, -71.08], 13);

  // Load tile layer
  L.tileLayer('http://tiles.mapc.org/basemap/{z}/{x}/{y}.png', {
    attribution: 'Tiles by <a href="http://mapc.org">MAPC</a>, Data by <a href="http://mass.gov/mgis">MassGIS</a>',
    maxZoom: 17,
    minZoom: 9,
  }).addTo(map);

  $.getJSON("neighborhoods.geojson", function(hoodData){
    L.geojson(hoodData).addTo(map);
  });

  //add our own Rat Data
  $.getJSON("bostonrats.geojson", function(data){
    var ratIcon = L.icon({
      iconURL: 'rat.gif',
      iconSize: [50, 40]
    })
    L.geojson(data, {
      pointToLayer: function(feature, latlng){
        return L.marker(latlng, {icon: ratIcon});
        marker.bindPopup(feature.properties.Location + '<br/>' + feature.properties.OPEN_DT);
        return marker;
      }
    }).addTo(map);
  });

  </script>
</body>
</html>
